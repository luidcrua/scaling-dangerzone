// Generated by CoffeeScript 1.6.3
(function() {
  var NewUsuarioCtrl,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  NewUsuarioCtrl = (function(_super) {
    __extends(NewUsuarioCtrl, _super);

    NewUsuarioCtrl.prototype.events = {
      "tap button[data-action=save]": "onSave"
    };

    NewUsuarioCtrl.prototype.elements = {
      "#txt-nombre": "nombre",
      "#txt-sexo": "sexo",
      "#txt-edad": "edad",
      "#txt-email": "email",
      "#txt-ciudad": "ciudad",
      "#txt-nivAcademico": "nivAcademico"
    };

    function NewUsuarioCtrl() {
      this.bindUsuarioCreate = __bind(this.bindUsuarioCreate, this);
      this.onError = __bind(this.onError, this);
      NewUsuarioCtrl.__super__.constructor.apply(this, arguments);
      __Model.Usuario.bind("error", this.onError);
      __Model.Usuario.bind("create", this.bindUsuarioCreate);
    }

    NewUsuarioCtrl.prototype.onError = function() {
      return console.error(arguments);
    };

    NewUsuarioCtrl.prototype.bindUsuarioCreate = function(usuario) {
      return console.error("a√±adido el usuario", usuario);
    };

    NewUsuarioCtrl.prototype.onSave = function(event) {
      console.log(this.nombre.val(), this.sexo.val());
      __Model.Usuario.create({
        nombre: this.nombre.val(),
        sexo: this.sexo.val(),
        edad: this.edad.val(),
        email: this.email.val(),
        ciudad: this.ciudad.val(),
        nivAcademico: this.nivAcademico.val()
      });
      console.error(__Model.Usuario.all());
      Lungo.Router.section("noti");
      this.nombre.val("");
      this.sexo.val("");
      this.edad.val("");
      this.email.val("");
      this.ciudad.val("");
      return this.nivAcademico.val("");
    };

    return NewUsuarioCtrl;

  })(Monocle.Controller);

  __Controller.NewUsuario = new NewUsuarioCtrl("section#registro");

}).call(this);
